<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Flero++: PostFile Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Flero++
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classPostFile-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">PostFile Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Class for dealing with POST requests containing files.  
 <a href="classPostFile.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="PostFile_8hpp_source.html">PostFile.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1ab7293e85d2125cd31783998f493957"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPostFile.html#a1ab7293e85d2125cd31783998f493957">load</a> (std::istream &amp;is, const std::string &amp;boundary, const std::string &amp;storeDir=&quot;&quot;)</td></tr>
<tr class="separator:a1ab7293e85d2125cd31783998f493957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a856b65ea5f06c7f5a841d3e00ee43e43"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="PostFile_8hpp.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPostFile.html#a856b65ea5f06c7f5a841d3e00ee43e43">get_data</a> () const</td></tr>
<tr class="separator:a856b65ea5f06c7f5a841d3e00ee43e43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a198a65d87da0a994d325c00bce5cdfbf"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPostFile.html#a198a65d87da0a994d325c00bce5cdfbf">get_name</a> () const</td></tr>
<tr class="separator:a198a65d87da0a994d325c00bce5cdfbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad73e6ea6e2e9fd72f1df9df3a999f3c1"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPostFile.html#ad73e6ea6e2e9fd72f1df9df3a999f3c1">get_content_type</a> () const</td></tr>
<tr class="separator:ad73e6ea6e2e9fd72f1df9df3a999f3c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8f103d337bd12a0b3cdec80a761d516"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPostFile.html#aa8f103d337bd12a0b3cdec80a761d516">get_file_name</a> () const</td></tr>
<tr class="separator:aa8f103d337bd12a0b3cdec80a761d516"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a875208f49f11c472d772ad6729a0cb66"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; <a class="el" href="classPostFile.html">PostFile</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPostFile.html#a875208f49f11c472d772ad6729a0cb66">loadPostData</a> (std::istream &amp;is, const std::string &amp;storeDir=&quot;&quot;)</td></tr>
<tr class="separator:a875208f49f11c472d772ad6729a0cb66"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Class for dealing with POST requests containing files. </p>
<p >A simple class to encapsulate data from a multi-part POST request.</p>
<dl class="section note"><dt>Note</dt><dd>The primary interface method is the static <a class="el" href="classPostFile.html#a875208f49f11c472d772ad6729a0cb66">PostFile::loadPostData()</a> method.</dd></dl>
<p>Typically HTTP POST requests are associated with processing HTML forms where the user may submit different types of data in multiple fields. This file class encapsulates values for a single field. The data for this class is typically loaded from an input stream associated by Apache (via CGI/FASTCgi) with a HTTP POST request. The format of a post entry must be compatible with RFC standards. Here is a simple example:</p>
<pre>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;form action="cgi-bin/post_test" method="post"
      enctype="multipart/form-data"&gt;
    Select file to upload:
    &lt;input type="file" name="fileToUpload" id="fileToUpload"&gt;
    &lt;input type="submit" value="Upload" name="submit"&gt;
&lt;/form&gt;

&lt;/body&gt;
&lt;/html&gt; 
</pre><p >Here is the POST data generated by a standard web browser:</p>
<pre>
-----------------------------198994908615659096011560184689^M
Content-Disposition: form-data; name="fileToUpload"; filename="test.txt"^M
Content-Type: text/x-csrc^M
^M
This is a short text file uploaded for testing.

^M
-----------------------------198994908615659096011560184689^M
Content-Disposition: form-data; name="submit"^M
^M
Upload^M
-----------------------------198994908615659096011560184689--^M
</pre> </div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ad73e6ea6e2e9fd72f1df9df3a999f3c1" name="ad73e6ea6e2e9fd72f1df9df3a999f3c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad73e6ea6e2e9fd72f1df9df3a999f3c1">&#9670;&nbsp;</a></span>get_content_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string PostFile::get_content_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Getter method to return the content-type of the Post file request. </p>

</div>
</div>
<a id="a856b65ea5f06c7f5a841d3e00ee43e43" name="a856b65ea5f06c7f5a841d3e00ee43e43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a856b65ea5f06c7f5a841d3e00ee43e43">&#9670;&nbsp;</a></span>get_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="PostFile_8hpp.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> &gt; PostFile::get_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Getter method to return the vector that contains the data of the post file. </p>

</div>
</div>
<a id="aa8f103d337bd12a0b3cdec80a761d516" name="aa8f103d337bd12a0b3cdec80a761d516"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8f103d337bd12a0b3cdec80a761d516">&#9670;&nbsp;</a></span>get_file_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string PostFile::get_file_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Getter method to return the name of the file name. </p>

</div>
</div>
<a id="a198a65d87da0a994d325c00bce5cdfbf" name="a198a65d87da0a994d325c00bce5cdfbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a198a65d87da0a994d325c00bce5cdfbf">&#9670;&nbsp;</a></span>get_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string PostFile::get_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Getter method to return the name of the form element that the file was attached to in the HTML form. </p>

</div>
</div>
<a id="a1ab7293e85d2125cd31783998f493957" name="a1ab7293e85d2125cd31783998f493957"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ab7293e85d2125cd31783998f493957">&#9670;&nbsp;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool PostFile::load </td>
          <td>(</td>
          <td class="paramtype">std::istream &amp;&#160;</td>
          <td class="paramname"><em>is</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>boundary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>storeDir</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >The top-level convenience method to load data for this post data entry object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">is</td><td>The input stream from where the data is to be loaded. The input stream is assumed to point to the beginning of the first HTTP header for this multi-part post entry.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">boundary</td><td>The mime boundary (aka spearator) string to be used to determine end of this multi-part entry.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">storeDir</td><td>An optional directory into which files (supplied by the user as input) is to be stored. If this string is empty then all file data is stored in the data vector. If this string is not empty then files are stored on directories created on disk. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a875208f49f11c472d772ad6729a0cb66" name="a875208f49f11c472d772ad6729a0cb66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a875208f49f11c472d772ad6729a0cb66">&#9670;&nbsp;</a></span>loadPostData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classPostFile.html">PostFile</a> &gt; PostFile::loadPostData </td>
          <td>(</td>
          <td class="paramtype">std::istream &amp;&#160;</td>
          <td class="paramname"><em>is</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>storeDir</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >The helper method in this class to process data from a POST request and store it in individual HttpPostEntry objects.</p>
<p >This method is a top-level helper method that can be used to process data from a HTTP POST request to create convenient objects for further processing. This method uses the <a class="el" href="classPostFile.html#a1ab7293e85d2125cd31783998f493957">PostFile::load()</a> method to load data into each object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">is</td><td>The input stream from where the POST data is to be processed. This input stream must start at the first character of the first multi-part boundary string for the POST data.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">storeDir</td><td>An optional directory into which files (supplied by the user as input) is to be stored. If this string is empty then all input is stored in the corresponding PostFile::data vector. If this string is not empty then files are stored on directories created on disk. The actual storing operation is performed by <a class="el" href="classPostFile.html#a1ab7293e85d2125cd31783998f493957">PostFile::load()</a> method. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/fleropp/fleropp_fpm/include/<a class="el" href="PostFile_8hpp_source.html">PostFile.hpp</a></li>
<li>/fleropp/fleropp_fpm/src/<a class="el" href="PostFile_8cpp.html">PostFile.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
